(this["webpackJsonprd3t-v2-custom-svg-tag"]=this["webpackJsonprd3t-v2-custom-svg-tag"]||[]).push([[0],{128:function(e,t,n){e.exports=n(167)},161:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(47),c=n.n(r),o=n(85),i=n.n(o),u=n(106),d=n(2),m=n(107),s=n.n(m),f=n(35),v=n(185),E=n(187),b=n(56),h=n(182),p=n(183),g=n(184),O=function(e){var t=e.isOpen,n=e.node,r=e.onClose,c=e.onSubmit,o=e.onDelete,i=Object(a.useState)(void 0),u=Object(d.a)(i,2),m=u[0],s=u[1],O=Object(a.useState)({name:""}),j=Object(d.a)(O,2),C=j[0],y=j[1];Object(a.useEffect)((function(){s(n)}),[n]);return l.a.createElement(v.a,{isOpen:t,onClose:r},l.a.createElement(v.g,null),l.a.createElement(v.d,null,l.a.createElement(v.f,null,"Add family member"),l.a.createElement(v.c,null),l.a.createElement(v.b,null,l.a.createElement(b.a,null,l.a.createElement(h.a,null,"Parent Name"),l.a.createElement(p.a,{value:m&&m.name,onChange:function(e){s(Object(f.a)(Object(f.a)({},m),{},{name:e.target.value}))}})),l.a.createElement(b.a,null,l.a.createElement(h.a,null,"Parent Gender"),l.a.createElement(g.a,{placeholder:"Select gender",value:m&&m.gender,disabled:m&&!m.name,onChange:function(e){var t=e.target;return s(Object(f.a)(Object(f.a)({},m),{},{gender:t.value}))}},l.a.createElement("option",{value:"male"},"Male"),l.a.createElement("option",{value:"female"},"Female"))),l.a.createElement(b.a,null,l.a.createElement(h.a,null,"Child Name"),l.a.createElement(p.a,{value:C.name,onChange:function(e){return y(Object(f.a)(Object(f.a)({},C),{},{name:e.target.value}))}})),l.a.createElement(b.a,null,l.a.createElement(h.a,null,"Child Gender"),l.a.createElement(g.a,{placeholder:"Select gender",disabled:!C.name,onChange:function(e){var t=e.target;y(Object(f.a)(Object(f.a)({},C),{},{gender:t.value}))}},l.a.createElement("option",{value:"male"},"Male"),l.a.createElement("option",{value:"female"},"Female")))),l.a.createElement(v.e,null,l.a.createElement(E.a,{color:"red.500",mr:3,variant:"solid",onClick:function(){o(m)},disabled:!m},"Delete"),l.a.createElement(E.a,{color:"blue.500",variant:"solid",onClick:function(){c(m,C),y({name:""})},disabled:!m},"Add"))))},j={width:"100vw",height:"100vh"},C=function(e){var t=e.readOnly,n=void 0===t||t,r=Object(a.useState)({name:"Root",gender:"male",attributes:{id:"411d9783-85ba-41e5-a6a3-5e1cca3d294f"},children:[]}),c=Object(d.a)(r,2),o=c[0],m=c[1],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=Object(a.useState)(e),n=Object(d.a)(t,2),l=n[0],r=n[1],c=Object(a.useCallback)((function(e){if(null!==e){var t=e.getBoundingClientRect(),n=t.width,a=t.height;r({x:n/2,y:a/2})}}),[]);return[l,c]}(),v=Object(d.a)(f,2),h=v[0],p=v[1],C=Object(a.useState)(),y=Object(d.a)(C,2),S=y[0],k=y[1],w=Object(a.useState)("horizontal"),x=Object(d.a)(w,2),N=x[0],D=x[1],J=function(e){k(e)};Object(a.useEffect)((function(){fetch("/get-tree",{method:"GET",headers:{"Content-Type":"application/json",mode:"no-cors"}}).then((function(e){return e.json()})).then((function(e){var t=e.success,n=e.data;t&&m(n)}))}),[]);var T=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(o),n=new Blob([t],{type:"application/json"}),e.next=4,URL.createObjectURL(n);case 4:a=e.sent,(l=document.createElement("a")).href=a,l.download="data.json",document.body.appendChild(l),l.click(),document.body.removeChild(l);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{style:j,ref:p},l.a.createElement(b.a,null,!n&&l.a.createElement(E.a,{color:"blue.500",variant:"solid",onClick:T},"Download Json"),l.a.createElement(g.a,{placeholder:"Select orientation",onChange:function(e){var t=e.target;return D(t.value)}},l.a.createElement("option",{value:"vertical"},"Vertical"),l.a.createElement("option",{value:"horizontal"},"Horizontal"))),l.a.createElement(s.a,{data:o,orientation:N,translate:h,renderCustomNodeElement:function(e){return function(e,t){var a,r,c=e.nodeDatum,o=e.toggleNode;return l.a.createElement("g",null,l.a.createElement("circle",{r:"15",fill:"male"===c.gender?"#00ff00":"#0000ff",onClick:n?o:function(){return t(c)}}),l.a.createElement("text",{fill:"black",strokeWidth:"1",x:"20"},c.name),(null===(a=c.attributes)||void 0===a?void 0:a.department)&&l.a.createElement("text",{fill:"black",x:"20",dy:"20",strokeWidth:"1"},"Department: ",null===(r=c.attributes)||void 0===r?void 0:r.department))}(e,J)},onNodeClick:J}),!n&&l.a.createElement(O,{onSubmit:function(e,t){var n;(n={node:e,child:t},fetch("/post-tree",{method:"POST",headers:{"Content-Type":"application/json",mode:"no-cors"},body:JSON.stringify(n)}).then((function(e){return e.json()}))).then((function(e){var t=e.success,n=e.data;t&&m(n)})),k(void 0)},onDelete:function(e){var t;(t={node:e},fetch("/delete-node",{method:"DELETE",headers:{"Content-Type":"application/json",mode:"no-cors"},body:JSON.stringify(t)}).then((function(e){return e.json()}))).then((function(e){var t=e.success,n=e.data;t?(m(n),k(void 0)):k(void 0)}))},onClose:function(){return k(void 0)},node:S,isOpen:!!S}))},y=n(111),S=n(9),k=n(186);n(161);function w(){return l.a.createElement(k.a,null,l.a.createElement(y.a,null,l.a.createElement(S.c,null,l.a.createElement(S.a,{exact:!0,path:"/"},l.a.createElement(C,null)),l.a.createElement(S.a,{path:"/admin"},l.a.createElement(C,{readOnly:!1})))))}var x=document.getElementById("root");c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(w,null)),x)}},[[128,1,2]]]);
//# sourceMappingURL=main.6e1e2fdf.chunk.js.map